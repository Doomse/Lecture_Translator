{% extends "base.html" %}

{% load static %}

{% block extra_headers %}
    <link href="{% static 'tasks/styles.css' %}" rel=stylesheet>
{% endblock extra_headers %}

{% block content %}
    <h2>Your tasks</h2>
    {% for task in task_list %}
        <p>
            <span>
                {{ task.title }}
                <span class="{{ task.status|lower }}">{{ task.get_status_display }}</span>
            </span>
            <span class="download">
                <a href="{% url 'task-download-source' task.id %}"><button type="button">Source</button></a>
                {% if task.status == task.DONE %}
                    <a href="{% url 'task-download-result' task.id %}"><button type="button">Result</button></a>
                {% else %}
                    <button type="button" disabled>Result</button>
                {% endif %}
            </span>
        </p>
        <hr>
    {% endfor %}
    <a href="{% url 'task-create' %}"><button type="button">Create New Task</button></a>
    <a href="{% url 'logout' %}" id="logout"><button type="button">Logout</button></a>
{% endblock content %}